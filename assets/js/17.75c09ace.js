(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{489:function(e,t,a){e.exports=a.p+"assets/img/lifecycle.1d49eede.png"},547:function(e,t,a){"use strict";a.r(t);var s=a(38),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("PageHeader"),e._v(" "),s("h2",{attrs:{id:"asynchronous-vs-synchronous"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#asynchronous-vs-synchronous"}},[e._v("#")]),e._v(" Asynchronous vs Synchronous")]),e._v(" "),s("p",[e._v("JavaScript has a mechanism known as the event loop. When you pass a list of commands to the event loop, it will keep running each of those commands in order until it gets to the end of your list. This list is known as the main stack. JavaScript keeps trying to run commands as long as there is something on the main stack.")]),e._v(" "),s("p",[e._v("However, sometimes there is a command that would stop the event loop from getting to the next command. It gets blocked from going to the next command in the stack. These types of commands are things that take a long time to complete, like talking to a database, or the file system, or a network request for a file, or a timer that needs to wait before running.")]),e._v(" "),s("p",[e._v("There are specific tasks that are going to take too long and they get put into a secondary area so they can wait for their result. These tasks are known as asynchronous.")]),e._v(" "),s("p",[e._v("If the code stays on the main stack and insists on being run before the event loop moves on to the next item then it is called synchronous.")]),e._v(" "),s("h3",{attrs:{id:"core-javascript-vs-the-web-apis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#core-javascript-vs-the-web-apis"}},[e._v("#")]),e._v(" Core JavaScript VS. the Web APIs")]),e._v(" "),s("p",[e._v("The JavaScript that we use in the browser is actually made up of two different things.")]),e._v(" "),s("p",[e._v("There is the Core JavaScript that we were using with Node.JS for the first few weeks of the semester and there are the Web APIs.")]),e._v(" "),s("p",[e._v("The Core part is made up of the features like variables, if statements, functions, data types, arrays, loops, ternary operators, the Math object.")]),e._v(" "),s("p",[e._v("The Web APIs are all the things that are added on top for the browser - HTML DOM, CSS style manipulation, handling AJAX requests, timers (setTImeout and setInterval), the browser events, geolocation, local storage, and all the features added to support mobile devices.")]),e._v(" "),s("p",[e._v("What is the difference between synchronous and asynchronous JavaScript? Watch this to see:")]),e._v(" "),s("YouTube",{attrs:{title:"Asynchronous vs Synchronous",url:"https://youtube.com/embed/Q-Zmc0E0GYY"}}),e._v(" "),s("h3",{attrs:{id:"the-javascript-loop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-javascript-loop"}},[e._v("#")]),e._v(" The JavaScript Loop")]),e._v(" "),s("p",[e._v("The JavaScript engines, like Chrome's V8, use a single thread to process all your code. It builds a stack of commands to run, in the order that you have written them. As long as each command belongs to the CORE JavaScript then it gets added to the main run stack.")]),e._v(" "),s("p",[e._v("When something that belongs to the Web APIs is encountered it gets added to a secondary list of tasks. Each time the main stack is finished then the JavaScript engine turns it attention to the secondary list of tasks and will try to run those.")]),e._v(" "),s("p",[e._v("Here is a great video that explains how the JS Event Loop works.")]),e._v(" "),s("YouTube",{attrs:{title:"Event Loop JS Archibald",url:"https://www.youtube.com/embed/cCOL7MC4Pl0"}}),e._v(" "),s("h2",{attrs:{id:"async-await"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#async-await"}},[e._v("#")]),e._v(" Async Await")]),e._v(" "),s("p",[e._v("When you call an asynchronous method like fetch, loading an image, timers, getting geolocation, talking to a database or reading a file, then we need to handle this in our code. Most asynchronous tasks have a callback method that we can use. Another approach we can use is wrapping the task inside a Promise and then using a then().")]),e._v(" "),s("p",[e._v("If you want to use the Promise version but want to simplify your code then we can use the keywords async and await.")]),e._v(" "),s("p",[e._v("One of the features added in ES6 was "),s("code",[e._v("async")]),e._v(" and "),s("code",[e._v("await")]),e._v(". The combination of these keywords lets us use asynchronous features like "),s("code",[e._v("fetch")]),e._v(" inside a function but in a synchronous way.")]),e._v(" "),s("p",[e._v("Here is an example.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("getData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://www.example.com/items/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// now we have the actual response object in our response variable")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// now we actually have the JSON data inside the data variable")]),e._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("p",[e._v("This works by wrapping the asynchronous call in a Promise and making the rest of the function wait for the result before continuing. Without the await the variables response and data would not work properly. response would hold the Promise object which is the fetch waiting for a response. The next line, where we call the json() method would fail because that is not a valid method to call on a fetch or promise object.")]),e._v(" "),s("p",[e._v("The await is what solves the problem and makes the code wait for the result of the fetch() and the json() methods.")]),e._v(" "),s("p",[e._v("Here are a few videos about "),s("code",[e._v("Async Await")]),e._v(".")]),e._v(" "),s("YouTube",{attrs:{title:"Intro to Async Await",url:"https://www.youtube.com/embed/BTDeq5HC5bU"}}),e._v(" "),s("YouTube",{attrs:{title:"Async Await with Promises",url:"https://www.youtube.com/embed/lGJbPSI-12E"}}),e._v(" "),s("YouTube",{attrs:{title:"Async Await with Fetch",url:"https://www.youtube.com/embed/ycJOZp_wWak"}}),e._v(" "),s("h2",{attrs:{id:"shared-web-workers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shared-web-workers"}},[e._v("#")]),e._v(" Shared Web Workers")]),e._v(" "),s("p",[e._v("By now we are very familiar with the idea that JavaScript runs the main stack on a single thread. This means that the main stack runs in a synchronous way - one task at a time.")]),e._v(" "),s("p",[e._v("We do have asynchronous things like Events, Timers, and Promises which will be placed on another thread to be handled. When they are ready to be used they get put in a queue to wait to be added back onto the main stack. They can only be added back onto the main stack when it is empty and all the current tasks are complete.")]),e._v(" "),s("p",[e._v("So, if you have a processor intensive task to complete but it isn't connected to a Promise, Timer, or Event then you are stuck with the main stack not able to do anything until it finishes this big task. Updating the interface and interacting with the user in a real-time way could be jeopardized.")]),e._v(" "),s("p",[e._v("The solution? Shared Web Workers. With these, we can actually create our own new thread to use and run our complex task on that other thread. Our main stack will, once again, be free to work with the interface and the user.")]),e._v(" "),s("p",[e._v("Shared Web Workers can contain practically any code we want, except it is not allow to access the DOM (the interface).")]),e._v(" "),s("YouTube",{attrs:{title:"Shared Web Workers",url:"https://www.youtube.com/embed/EiPytIxrZtU"}}),e._v(" "),s("h2",{attrs:{id:"service-worker-intro"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-worker-intro"}},[e._v("#")]),e._v(" Service Worker Intro")]),e._v(" "),s("p",[e._v("Here is a "),s("a",{attrs:{href:"https://bitsofco.de/web-workers-vs-service-workers-vs-worklets/",target:"_blank",rel:"noopener noreferrer"}},[e._v("great article"),s("OutboundLink")],1),e._v(" about the differences between Service Workers, Web Workers, and Worklets. All three are "),s("code",[e._v("workers")]),e._v(" meaning that they get launched from a webpage script and they run on a separate thread to offload some processor intensive work.")]),e._v(" "),s("p",[s("code",[e._v("Web Workers")]),e._v(" are just instantiated and run to off load a task.")]),e._v(" "),s("p",[s("code",[e._v("Worklets")]),e._v(" are run to help us do things during the rendering process on the page. They do NOT have access to the DOM.")]),e._v(" "),s("p",[s("code",[e._v("Service Workers")]),e._v(" get registered | installed and remain in the browser. They run in the background and act as a proxy server to intercept all the file requests that come from the browser. They can work with "),s("code",[e._v("fetch")]),e._v(", the "),s("code",[e._v("cache API")]),e._v(", and the "),s("code",[e._v("indexedDB API")]),e._v(" to help you build offline first web apps. They do NOT have access to the DOM.")]),e._v(" "),s("h4",{attrs:{id:"registering-and-installing-service-workers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#registering-and-installing-service-workers"}},[e._v("#")]),e._v(" Registering and Installing Service Workers")]),e._v(" "),s("p",[e._v("Registering a service worker for your website can be quite simple.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("serviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("register")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/service-worker.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("The "),s("code",[e._v("serviceWorker")]),e._v(" object exists inside the "),s("code",[e._v("window.navigator")]),e._v(" object. You can call the file that holds your service worker anything that you want but it should be saved at the root of your website.")]),e._v(" "),s("p",[e._v("When you register the file it will automatically be applied to EVERY tab and EVERY webpage under the current domain.")]),e._v(" "),s("p",[e._v("If you are working on a project that is running in Chrome under "),s("code",[e._v("http://127.0.0.1:5500")]),e._v(" and you register a Service Worker then it will remain there and apply to every webpage from "),s("code",[e._v("http://127.0.0.1/")]),e._v(" that you open on Chrome until you remove it yourself through the Chrome Dev tools.")]),e._v(" "),s("p",[e._v("If you want to see if a Service Worker is currently running for your webpage, you can use this:")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" myController "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("serviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("If there is an active Service Worker then it will be assigned to "),s("code",[e._v("myController")]),e._v(".")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'serviceWorker'")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Do a one-off check to see if a service worker's in control.")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("serviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("\n      "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("This page is currently controlled by: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[e._v("${")]),e._v("navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("serviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("controller"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[e._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")])]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("else")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'This page is not currently controlled by a service worker.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("else")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Service workers are not supported.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("h4",{attrs:{id:"life-cycle-for-service-workers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#life-cycle-for-service-workers"}},[e._v("#")]),e._v(" Life-cycle for Service Workers")]),e._v(" "),s("p",[e._v("The life cycle for service workers has two critical events "),s("code",[e._v("install")]),e._v(" and "),s("code",[e._v("activate")]),e._v(". When you call the "),s("code",[e._v("register")]),e._v(" method for the service worker, the browser will check to see if this specific file has previously been installed. If not, then it will install it and trigger the "),s("code",[e._v("install")]),e._v(" event.")]),e._v(" "),s("p",[e._v("If the file was previously installed but there is a change to the code inside the file then it will trigger a new installation of the script. Service workers are installed for a specific domain. They are tied to the current domain.")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("activate")]),e._v(" event happens when a service worker has been installed and there is no other service worker currently running on any tab in the browser for the current domain. As long as there is still an older service worker running, the browser will not want to active the new file or new version.")]),e._v(" "),s("p",[e._v("If you load your webpage once and the browser "),s("code",[e._v("install")]),e._v("s and "),s("code",[e._v("activate")]),e._v("s a service worker, then you edit the service worker and reload your webpage, the browser will "),s("code",[e._v("install")]),e._v(" but "),s("strong",[e._v("NOT")]),e._v(" "),s("code",[e._v("activate")]),e._v(" the new version because the older one is still active and running. Refreshing a second time will unload the old one and "),s("code",[e._v("activate")]),e._v(" the newest version that is installed.")]),e._v(" "),s("p",[e._v("Once activated the service worker can handle events for "),s("code",[e._v("fetch")]),e._v(" and messaging between the worker and the webpage.")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("install")]),e._v(" event is the best time to create any new version of the file cache array that you will need for your new service worker.")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("activate")]),e._v(" event is when you would delete old versions of the file cache.")]),e._v(" "),s("p",[e._v("If you want to update your IndexedDB then you can open the new version of the database from your "),s("code",[e._v("activate")]),e._v(" event and use the "),s("code",[e._v("upgradeneeded")]),e._v(" event to make any structural changes you want there.")]),e._v(" "),s("p",[e._v("Inside your Service Worker file you can add listeners for the "),s("code",[e._v("install")]),e._v(" and "),s("code",[e._v("activate")]),e._v(" events. The keyword "),s("code",[e._v("self")]),e._v(" is used in the service worker script to refer to itself.")]),e._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'install'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("ev")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//code to run when the install event happens")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'active'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("ev")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//code to run when the service worker becomes active")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("p",[e._v("Since, the manner in which cached files, database access, and fetch calls are handled, can be very sensitive to the specific version of the client side script in the browser we have to be able to manage the installing and activating of these shared service workers.")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("installing -> installed -> waiting -> activating -> activated -> idle -> stopped -> terminated\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("The "),s("code",[e._v("idle")]),e._v(" phase happens when the webpage is still active but the service worker has nothing to do.")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("stopped")]),e._v(" phase happens when the tabs for the current domain are all closed. The service worker is still registered and installed but it is dormant. Once another page for that domain is loaded, the Service Worker can become activated again.")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("terminated")]),e._v(" phase happens when a service worker is unregistered | uninstalled. This must happen before a new service worker for the domain gets activated.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(489),alt:"lifecycle image"}})]),e._v(" "),s("p",[s("a",{attrs:{href:"https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle",target:"_blank",rel:"noopener noreferrer"}},[e._v("More reading on the lifeCycle"),s("OutboundLink")],1)]),e._v(" "),s("h4",{attrs:{id:"dev-tools-for-service-workers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dev-tools-for-service-workers"}},[e._v("#")]),e._v(" Dev Tools for Service Workers")]),e._v(" "),s("p",[e._v("In Chrome, we can use the "),s("code",[e._v("Application")]),e._v(" tab in the Dev Tools to find everything we need to work with Service Workers. Service Worker Registration, IndexedDB, localStorage, Cookies, Caches, Manifest, and Background Services are all found in this tab.")]),e._v(" "),s("h3",{attrs:{id:"service-worker-playlist"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-worker-playlist"}},[e._v("#")]),e._v(" Service Worker Playlist")]),e._v(" "),s("p",[e._v("Here is a whole playlist tutorial on how to build and use Service Workers.")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.youtube.com/watch?v=NJRu3pmmN-4&list=PLyuRouwmQCjl4iJgjH3i61tkqauM-NTGj",target:"_blank",rel:"noopener noreferrer"}},[e._v("Service Worker Playlist"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("The videos in the playlist are:")]),e._v(" "),s("ol",[s("li",[e._v("Registration, Life-Cycle, Events, and Dev Tools")]),e._v(" "),s("li",[e._v("The Cache API")]),e._v(" "),s("li",[e._v("waitUntil, skipWaiting, claim")]),e._v(" "),s("li",[e._v("How to integrate Caches")]),e._v(" "),s("li",[e._v("The Storage API")]),e._v(" "),s("li",[e._v("Controlling Fetch Calls")]),e._v(" "),s("li",[e._v("When Fetch Goes Wrong")]),e._v(" "),s("li",[e._v("Messaging Between Tabs and Service Workers")]),e._v(" "),s("li",[e._v("Integrating a Database")])]),e._v(" "),s("h2",{attrs:{id:"what-to-do-this-week"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#what-to-do-this-week"}},[e._v("#")]),e._v(" What to do this week")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("TODO")]),e._v(" "),s("p",[e._v("Things to do before next week")]),e._v(" "),s("ul",[s("li",[e._v("Read and Watch all the course content for "),s("code",[e._v("4.1")]),e._v(", "),s("code",[e._v("4.2")]),e._v(", and "),s("code",[e._v("5.1")])]),e._v(" "),s("li",[e._v("Complete "),s("RouterLink",{attrs:{to:"/assignments/hybrid/#_2-feature-branch-and-controls"}},[e._v("Hybrid 2")])],1)])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);